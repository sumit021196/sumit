import{i as u,j as d,a3 as s}from"./main-c94d187b.js";import{r as f}from"./createSvgIcon-1a68f666.js";var i={},p=u;Object.defineProperty(i,"__esModule",{value:!0});var g=i.default=void 0,_=p(f()),l=d;g=i.default=(0,_.default)([(0,l.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,l.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");var c={},b=u;Object.defineProperty(c,"__esModule",{value:!0});var w=c.default=void 0,m=b(f()),v=d;w=c.default=(0,m.default)((0,v.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");const j=async(e=10,r=0,t=null)=>{try{let o=s.from("blog_posts").select("*",{count:"exact"}).eq("is_published",!0).order("published_at",{ascending:!1}).range(r,r+e-1);t&&(o=o.eq("category",t));const{data:a,error:n,count:h}=await o;if(n)throw n;return{posts:a||[],total:h||0}}catch(o){throw console.error("Error fetching blog posts:",o),o}},E=async e=>{try{const{data:r,error:t}=await s.from("blog_posts").select("*").eq("slug",e).eq("is_published",!0).single();if(t)throw t;return r&&await y(r.id),r}catch(r){throw console.error("Error fetching blog post:",r),r}},y=async e=>{try{await s.rpc("increment_views",{post_id:e})}catch(r){console.error("Error incrementing view count:",r)}},M=async(e=3)=>{try{const{data:r,error:t}=await s.from("blog_posts").select("*").eq("is_published",!0).eq("is_featured",!0).order("published_at",{ascending:!1}).limit(e);if(t)throw t;return r||[]}catch(r){throw console.error("Error fetching featured posts:",r),r}},P=async()=>{try{const{data:e,error:r}=await s.from("blog_categories").select("*").order("name");if(r)throw r;return e||[]}catch(e){throw console.error("Error fetching categories:",e),e}},R=async e=>{try{const{data:r,error:t}=await s.from("blog_posts").select("*").eq("is_published",!0).or(`title.ilike.%${e}%,content.ilike.%${e}%,excerpt.ilike.%${e}%`).order("published_at",{ascending:!1}).limit(20);if(t)throw t;return r||[]}catch(r){throw console.error("Error searching blog posts:",r),r}},$=async(e,r,t=3)=>{try{const{data:o,error:a}=await s.from("blog_posts").select("*").eq("is_published",!0).neq("id",r).contains("tags",e).order("published_at",{ascending:!1}).limit(t);if(a)throw a;return o||[]}catch(o){return console.error("Error fetching related posts:",o),[]}};export{w as a,M as b,j as c,g as d,E as e,P as f,$ as g,R as s};
//# sourceMappingURL=blogService-9e0cb96b.js.map
